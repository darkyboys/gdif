# GDIF - Goblin's Demonic Image Flasher 🧛‍♂️🔥

**GDIF** is a modern, curses-free ISO image flasher built using C++ and a custom HTML GUI. It allows users to flash Linux and Windows ISOs onto USB drives with style and ease — no terminal madness unless something truly goes wrong.

## 🚀 Features

- ⚡ **Flash Linux & Windows ISOs** effortlessly.
- 💻 **Modern HTML UI** powered by a custom `htmlui` engine.
- 🧠 **Automatic drive detection** via `lsblk`.
- 🌐 **One-click GWoeUSB installer** for flashing Windows ISOs.
- 🔒 Runs safely with support for `sudo` and non-root users.
- 🧾 Real-time progress updates using a shared `progress.txt` file.
- 🛠 Fully written in C++ using only STL and local headers.

---

## 🧩 Dependencies

- `g++` (C++17 or later)
- `wget` (Required for GDIF for automatically downloading GWoeUSB)
- `lsblk` (Required for GDIF to list all the devices)
- `dd` (Required for GDIF for Linux USB Sticks)
- `umount` (Required for GDIF For Linux And Windows USB Sticks)
- `dosfstools` (Required for GWoeUSB)
- `ntfs-3g` (Required for GWoeUSB)
- `gtk3` (Required for htmlui)
- `webkit2gtk` (Required for htmlui)
- [Magma](https://github.com/darkyboys/magma) (The Build System To Make The Project)
- [MkLib](https://github.com/darkyboys/mklib) (The Build System To Make The UI)
- [GWoeUSB](https://github.com/darkyboys/gdif/tree/main/woeusb) (automatically installed if missing)

---

## 🛠 Build Instructions

```bash
git clone https://github.com/darkyboys/gdif.git
cd gdif
magma
sudo magma install
````

> 💡 The `magma` command assumes you have the Magma and Mklib build systems already installed. If not, install them from there provides links in Dependencies Section. Also after building your binary is installed at /usr/local/bin and you can use gdif by executing `sudo gdif` sudo for allowing gdif to access your USB Stick.

---

## 💾 Flashing Support

| OS Type | Supported | Method Used |
| ------- | --------- | ----------- |
| Linux   | ✅        | `dd`        |
| Windows | ✅        | `GWoeUSB`   |

> 💡 The `GWoeUSB` is a custom version of WoeUSB maintained and modified by darkyboys and it doesnot relates to WoeUSB at all , Since any bugs in GWoeUSB must not be the part of WoeUSB so do not blame there maintainers for any known bugs in GWoeUSB. Instead raise an issue on gdif repository.

---

## 🧪 How It Works

* The UI is rendered using a custom `HTMLUI` engine.
* `lsblk` output is parsed to detect drives.
* Drive, ISO, and OS type are passed from the UI to the backend.
* Based on the OS:

  * Linux: The drive is formatted and flashed using `dd`.
  * Windows: Requires and uses `GWoeUSB` (bash script wrapper).
* Progress is tracked via a `progress.txt` file polled by a thread.

---

## 📁 File Structure

```bash
src/
├── gdif.cpp                   # Main file
├── include/htmlui/htmlui.hh   # HTML UI engine
├── include/lblk/lblk.hh       # Drive listing and parsing
├── ui/ui.hh                   # UI logic Autogenerated by mklib build system by default don't exists
├── ui/html/index.html         # HTML UI Which can be edited anytime before compilation
├── ui/template/*.temp         # Templates used by mklib build system to make ui.hh
├── install/shell64.magma      # Shell file for the Magma build system to fire install command
├── uninstall/shell64.magma    # Shell file for the Magma build system to fire uninstall command
├── img/screenshot.png         # The Glorious screen shot which you can already see on the head of the readme.md
```

---

## 🧙‍♂️ Why "Goblin's Demonic Image Flasher"?

Because it's cool. And it feels like you're summoning an OS straight into your USB stick 🔥

---

## 📜 License

MIT License
Copyright (c) 2025
Written by `ghgltggamer`

---

## 🙏 Acknowledgements

* [GWoeUSB](https://github.com/darkyboys/gdif/tree/main/woeusb) for Windows image flashing support
* The Linux community for keeping tools like `dd`, `lsblk`, and `bash` awesome
* You, for using GDIF!

---

## 💬 Feedback

Open an [issue](https://github.com/darkyboys/gdif/issues) if you run into bugs or have feature ideas!

---

🧛‍♂️ *Flash responsibly.*
